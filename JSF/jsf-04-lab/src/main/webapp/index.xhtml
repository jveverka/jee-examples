<!DOCTYPE html>
<html xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
      
    <h:head>
        <f:facet name="first">
           <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        </f:facet>
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/images/favicon.ico"/>
        <h:outputScript library="js" name="d3.min.js" />
        <h:outputScript library="js" name="radialProgress.js" />
        <h:outputScript library="js" name="rtdemo.js" />
        <h:outputScript library="js" name="jquery.flot.js" />
        <h:outputStylesheet library="css" name="rtdemo.css"/>
        <h:outputStylesheet library="css" name="radialProgress.css"/>
        <title>RT web</title>
        <script type='text/javascript'>
          var initialDataSet = <h:outputText value="#{dataAccess.getInitialDataAsJsonString()};" />
        </script> 
    </h:head>
    <h:body onload="onPageLoad();">
        
        <h1>Real-Time JSF demo [#{dataAccess.getLiveDataTimeout()}]</h1>
        
        <table>
          <tr><td>
            <div class="demo-container">
              <div id="placeholder" class="demo-placeholder" />
            </div> 
          </td><td style="valign: middle;">
            <div style="text-align: center; width: 100%"> 
        	  <div id="radialwrapper" style="margin:auto; width:300px;"></div>
            </div>
          </td>
        </tr>
        </table>
        
        <p:socket onMessage="handlePushGlobalEvent" channel="#{dataAccess.getGlobalPushChannelName()}" />
    
    </h:body>
</html>
